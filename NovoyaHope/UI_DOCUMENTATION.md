# Документация интерфейса - NovoyaHope

## Содержание

1. [Обзор](#обзор)
2. [Дизайн-система](#дизайн-система)
3. [Компоненты интерфейса](#компоненты-интерфейса)
4. [Страницы приложения](#страницы-приложения)
5. [Адаптивность](#адаптивность)
6. [Анимации и переходы](#анимации-и-переходы)
7. [Структура файлов](#структура-файлов)

---

## Обзор

Интерфейс NovoyaHope построен на современном, минималистичном дизайне с акцентом на удобство использования и визуальную привлекательность. Система использует адаптивный дизайн, поддерживающий все типы устройств от мобильных телефонов до широких мониторов.

### Технологии

- **CSS**: Кастомные стили с CSS переменными
- **JavaScript**: Vanilla JS для интерактивности
- **Иконки**: Font Awesome 6.4.0
- **Шрифты**: Google Fonts (Inter)
- **Фреймворк**: Bootstrap (частично)
- **Поддержка браузеров**: Современные браузеры (Chrome, Firefox, Edge, Safari)

---

## Дизайн-система

### Цветовая палитра

#### Основные цвета

```css
--primary-color: #2e7d32;        /* Основной зеленый */
--primary-dark: #1b5e20;         /* Темно-зеленый */
--primary-light: #4caf50;        /* Светло-зеленый */
--secondary-color: #66bb6a;      /* Вторичный зеленый */
--accent-color: #81c784;         /* Акцентный зеленый */
```

#### Текстовые цвета

```css
--text-primary: #212121;         /* Основной текст */
--text-secondary: #5f6368;       /* Вторичный текст */
--text-light: #757575;           /* Светлый текст */
```

#### Фоновые цвета

```css
--bg-primary: #ffffff;           /* Белый фон */
--bg-secondary: #f5f5f5;         /* Светло-серый фон */
--bg-tertiary: #fafafa;          /* Очень светло-серый */
```

#### Дополнительные цвета

```css
--border-color: #e0e0e0;         /* Цвет границ */
--error-color: #d32f2f;          /* Цвет ошибок */
--success-color: #2e7d32;        /* Цвет успеха */
--warning-color: #f57c00;        /* Цвет предупреждения */
--info-color: #1976d2;           /* Информационный цвет */
```

### Тени

```css
--shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);   /* Малая тень */
--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);   /* Средняя тень */
--shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);  /* Большая тень */
```

### Типографика

#### Шрифт

```css
font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
```

#### Размеры шрифтов

- **Заголовки H1**: 2.5rem (40px)
- **Заголовки H2**: 2rem (32px)
- **Заголовки H3**: 1.75rem (28px)
- **Заголовки H4**: 1.5rem (24px)
- **Основной текст**: 1rem (16px)
- **Малый текст**: 0.875rem (14px)
- **Очень малый**: 0.75rem (12px)

#### Высоты строк

- **Компактная**: 1.4
- **Обычная**: 1.6
- **Расширенная**: 1.8

### Отступы и размеры

```css
--navbar-height: 64px;           /* Высота навигации */
--footer-height: auto;           /* Высота футера */
--container-max-width: 1400px;   /* Максимальная ширина контейнера */
--border-radius: 8px;            /* Радиус скругления */
--border-radius-sm: 4px;         /* Малый радиус */
--border-radius-lg: 12px;        /* Большой радиус */
```

### Переходы и анимации

```css
--transition-base: 0.3s cubic-bezier(0.4, 0, 0.2, 1);  /* Базовый переход */
--transition-fast: 0.15s ease;                         /* Быстрый переход */
--transition-slow: 0.5s ease;                          /* Медленный переход */
```

---

## Компоненты интерфейса

### Навигация (Navbar)

#### Расположение
- Файл: `Views/Shared/_Layout.cshtml`
- Стили: `wwwroot/css/layout.css`

#### Структура

```
┌─────────────────────────────────────────────────────────┐
│ [Logo] [Nav Items]                           [User Menu]│
└─────────────────────────────────────────────────────────┘
```

#### Элементы

1. **Логотип и название**
   - Иконка: `fa-poll-h`
   - Текст: "NovoyaHope Forms"
   - Ссылка на главную страницу

2. **Навигационные ссылки** (для авторизованных):
   - Главная (с иконкой `fa-home`)
   - Мои опросы (с иконкой `fa-clipboard-list`)
   - Шаблоны (с иконкой `fa-layer-group`)
   - Админ-панель (только для администраторов, с иконкой `fa-shield-alt`)

3. **Меню пользователя** (Dropdown):
   - Аватар пользователя (или иконка по умолчанию)
   - Имя пользователя
   - Меню:
     - Мой профиль (`fa-user`)
     - Мои опросы (`fa-clipboard-list`)
     - Настройки (`fa-cog`)
     - Админ-панель (только для администраторов)
     - Выход (`fa-sign-out-alt`)

4. **Мобильное меню**:
   - Кнопка-гамбургер (3 линии)
   - Раскрывающееся меню для мобильных устройств

#### Стили

- **Высота**: 64px
- **Позиционирование**: Sticky (прилипает к верху)
- **Фон**: Белый с тенью
- **Адаптивность**: Полностью адаптивное мобильное меню

---

### Кнопки

#### Типы кнопок

1. **Основная кнопка (Primary)**
   ```css
   .btn-primary {
       background-color: var(--primary-color);
       color: white;
       padding: 10px 24px;
       border-radius: var(--border-radius);
   }
   ```

2. **Вторичная кнопка (Secondary)**
   ```css
   .btn-secondary {
       background-color: var(--bg-secondary);
       color: var(--text-primary);
       border: 1px solid var(--border-color);
   }
   ```

3. **Кнопка-призрак (Ghost)**
   ```css
   .btn-ghost {
       background-color: transparent;
       color: var(--primary-color);
       border: 1px solid var(--primary-color);
   }
   ```

4. **Кнопка-иконка**
   - Квадратные кнопки только с иконками
   - Размеры: 32px, 40px, 48px

#### Состояния

- **Default**: Обычное состояние
- **Hover**: Подсветка и изменение цвета
- **Active**: Нажатое состояние
- **Disabled**: Неактивное состояние (opacity: 0.5)

---

### Формы и поля ввода

#### Текстовые поля

```html
<input type="text" class="form-control" />
<textarea class="form-control"></textarea>
```

**Стили:**
- Border: 1px solid var(--border-color)
- Border-radius: var(--border-radius-sm)
- Padding: 10px 12px
- Transition: все изменения с плавным переходом

#### Состояния полей

- **Normal**: Обычное состояние
- **Focus**: Подсветка границы (цвет primary)
- **Error**: Красная граница и текст ошибки
- **Disabled**: Серый фон, недоступно для ввода

#### Чекбоксы и радио-кнопки

- Кастомный дизайн
- Увеличенная область клика
- Анимация при изменении состояния

---

### Карточки (Cards)

#### Структура карточки

```html
<div class="card">
    <div class="card-header">Заголовок</div>
    <div class="card-body">Содержимое</div>
    <div class="card-footer">Футер (опционально)</div>
</div>
```

**Стили:**
- Фон: Белый
- Тень: var(--shadow-md)
- Border-radius: var(--border-radius)
- Padding: 16px-24px

---

### Модальные окна

#### Структура

```html
<div class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h3>Заголовок</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            Содержимое
        </div>
        <div class="modal-footer">
            Кнопки действий
        </div>
    </div>
</div>
```

**Особенности:**
- Затемнение фона (overlay)
- Анимация появления/исчезновения
- Закрытие по клику на overlay или кнопку закрытия
- Закрытие по нажатию ESC

---

### Dropdown меню

#### Структура

```html
<div class="dropdown">
    <button class="dropdown-toggle">Текст</button>
    <div class="dropdown-menu">
        <a href="#" class="dropdown-item">Пункт 1</a>
        <a href="#" class="dropdown-item">Пункт 2</a>
    </div>
</div>
```

**Стили:**
- Фон: Белый
- Тень: var(--shadow-lg)
- Border-radius: var(--border-radius)
- Анимация: Плавное появление/исчезновение

---

### Уведомления (Notifications)

#### Типы уведомлений

1. **Успех** (Success)
   - Цвет: Зеленый
   - Иконка: `fa-check-circle`

2. **Ошибка** (Error)
   - Цвет: Красный
   - Иконка: `fa-exclamation-circle`

3. **Предупреждение** (Warning)
   - Цвет: Оранжевый
   - Иконка: `fa-exclamation-triangle`

4. **Информация** (Info)
   - Цвет: Синий
   - Иконка: `fa-info-circle`

**Отображение:**
- Временные уведомления в правом верхнем углу
- Постоянные уведомления через TempData на страницах

---

## Страницы приложения

### Главная страница (Landing Page)

**Файл**: `Views/Home/Index.cshtml`  
**Стили**: `wwwroot/css/home.css`

#### Структура

1. **Hero секция**
   - Большой заголовок
   - Подзаголовок
   - Призыв к действию (CTA)
   - Анимированные карточки

2. **Секция возможностей**
   - 6 карточек с возможностями:
     - Создание опросов
     - Различные типы вопросов
     - Аналитика
     - Шаблоны
     - Экспорт данных
     - Настройка дизайна

3. **Секция "Как это работает"**
   - 3 шага:
     1. Создайте опрос
     2. Опубликуйте его
     3. Соберите ответы

4. **Call-to-Action секция**
   - Призыв к регистрации
   - Кнопка регистрации

5. **Превью шаблонов**
   - Показ последних 5 шаблонов

---

### Страница "Мои опросы"

**Файл**: `Views/Survey/Index.cshtml`  
**Стили**: `wwwroot/css/surveys.css`

#### Компоненты

1. **Заголовок страницы**
   - Название страницы
   - Кнопка "Создать опрос"

2. **Панель инструментов (Toolbar)**
   - Поиск по названию
   - Фильтры:
     - Все
     - Опубликованные
     - Черновики

3. **Сетка опросов**
   - Карточки опросов в сетке
   - Информация на карточке:
     - Название опроса
     - Описание
     - Статус (опубликован/черновик)
     - Количество ответов
     - Дата создания
     - Dropdown меню с действиями

4. **Действия в меню опроса**
   - Редактировать
   - Предпросмотр
   - Результаты
   - Копировать ссылку
   - Публиковать/Снять с публикации
   - Экспорт результатов
   - Удалить

---

### Конструктор опросов

**Файл**: `Views/Survey/Constructor.cshtml`  
**Стили**: `wwwroot/css/constructor.css`  
**JavaScript**: `wwwroot/js/constructor.js`

#### Структура

```
┌─────────────────────────────────────────────────────────┐
│ [Header: Настройки, Кнопки управления]                 │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ [Tabs: Настройки | Вопросы | Разделы | Медиа | Ответы] │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  Рабочая область                    │ │
│ │                                                     │ │
│ │  [Содержимое вкладки]                              │ │
│ │                                                     │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### Вкладка "Настройки"

- Заголовок опроса
- Описание опроса
- Тип опроса (Poll/Questionnaire)
- Настройки публикации
- Дата окончания
- Настройки темы (цвета, шрифты, изображения)
- Настройки теста (если включен)

#### Вкладка "Вопросы"

**Элементы:**
- Кнопка "Добавить вопрос"
- Список вопросов с возможностью:
  - Редактирования текста
  - Изменения типа
  - Установки обязательности
  - Изменения порядка (drag & drop)
  - Дублирования
  - Удаления

**Типы вопросов:**
1. Текст (строка) - `input type="text"`
2. Текст (абзац) - `textarea`
3. Один из списка - радио-кнопки
4. Несколько из списка - чекбоксы
5. Раскрывающийся список - `select`
6. Загрузка файлов - `input type="file"`
7. Шкала - линейная шкала 1-5
8. Оценка - звезды 1-5
9. Сетка флажков - таблица с чекбоксами
10. Сетка (множественный выбор) - таблица с радио
11. Дата - `input type="date"`
12. Время - `input type="time"`

**Для вопросов с выбором:**
- Добавление вариантов ответов
- Редактирование вариантов
- Удаление вариантов
- Установка порядка вариантов
- Опция "Другое"

#### Вкладка "Разделы"

- Добавление разделов
- Заголовок раздела
- Описание раздела
- Установка порядка

#### Вкладка "Медиа"

- Добавление изображений/видео
- Загрузка файлов или указание URL
- Привязка к вопросу (опционально)
- Предпросмотр медиа

#### Вкладка "Ответы"

- Статистика по ответам
- Графики и диаграммы
- Список всех ответов
- Фильтры
- Экспорт данных

#### Особенности

- **Автосохранение**: Автоматическое сохранение через AJAX
- **Анимации**: Плавные переходы при добавлении/удалении элементов
- **Drag & Drop**: Перетаскивание для изменения порядка
- **Валидация**: Проверка корректности данных

---

### Страница прохождения опроса

**Файл**: `Views/Public/Pass.cshtml`

#### Структура

1. **Заголовок опроса**
   - Название (с настройками темы)
   - Описание
   - Изображение заголовка (если есть)

2. **Разделы** (если есть)
   - Заголовок раздела
   - Описание раздела

3. **Медиа-элементы** (если есть)
   - Изображения/видео

4. **Вопросы**
   - Отображение по порядку
   - Валидация обязательных вопросов
   - Различные типы полей ввода

5. **Кнопка отправки**
   - "Отправить" (или название кнопки из настроек)

#### Особенности

- Применение настроек темы опроса
- Адаптивный дизайн
- Валидация на клиенте и сервере
- Отображение ошибок валидации

---

### Страница результатов

**Файл**: `Views/Survey/Results.cshtml`

#### Компоненты

1. **Общая статистика**
   - Общее количество ответов
   - Дата создания опроса

2. **Результаты по вопросам**
   - Для текстовых: список всех ответов
   - Для вопросов с выбором:
     - Количество ответов по каждому варианту
     - Визуализация (графики, диаграммы)
   - Для шкалы: среднее значение

3. **Экспорт**
   - Кнопка экспорта в CSV

---

### Админ-панель

**Файлы**: `Views/Admin/*.cshtml`  
**Стили**: `wwwroot/css/admin.css`

#### Страницы

1. **Dashboard** (`Index.cshtml`)
   - Статистика системы
   - Последние опросы
   - Последние пользователи

2. **Управление пользователями** (`UserManagement.cshtml`)
   - Список пользователей
   - Поиск
   - Пагинация
   - Управление ролями
   - Удаление пользователей

3. **Управление опросами** (`Surveys.cshtml`)
   - Список всех опросов
   - Поиск
   - Пагинация
   - Публикация/снятие с публикации
   - Удаление

4. **Управление шаблонами** (`TemplateManager.cshtml`)
   - Список шаблонов
   - Поиск
   - Удаление

---

## Адаптивность

### Breakpoints

```css
/* Mobile First подход */

/* Mobile */
@media (max-width: 480px) {
    /* Стили для мобильных */
}

/* Tablet */
@media (max-width: 768px) {
    /* Стили для планшетов */
}

/* Desktop */
@media (max-width: 1024px) {
    /* Стили для десктопов */
}

/* Wide Desktop */
@media (min-width: 1025px) {
    /* Стили для широких экранов */
}
```

### Адаптивные компоненты

1. **Навигация**
   - Десктоп: горизонтальное меню
   - Мобильный: гамбургер-меню

2. **Сетки**
   - Десктоп: 3-4 колонки
   - Планшет: 2 колонки
   - Мобильный: 1 колонка

3. **Формы**
   - Десктоп: полная ширина с отступами
   - Мобильный: на всю ширину экрана

---

## Анимации и переходы

### Типы анимаций

1. **Появление элементов** (Fade In)
   ```css
   animation: fadeIn 0.3s ease;
   ```

2. **Слайд-анимация** (Slide)
   ```css
   animation: slideIn 0.3s ease;
   ```

3. **Hover эффекты**
   - Изменение цвета
   - Масштабирование
   - Поднятие тени

4. **Переходы состояний**
   - Плавные изменения цвета
   - Плавные изменения размера

### Примеры использования

- Появление модальных окон
- Появление dropdown меню
- Добавление вопросов в конструкторе
- Анимация загрузки
- Переходы между вкладками

---

## Структура файлов

### CSS файлы

```
wwwroot/css/
├── layout.css          # Стили навигации и общего макета
├── site.css            # Базовые стили сайта
├── home.css            # Стили главной страницы
├── surveys.css         # Стили страницы опросов
├── constructor.css     # Стили конструктора
├── admin.css           # Стили админ-панели
└── templates.css       # Стили страницы шаблонов
```

### JavaScript файлы

```
wwwroot/js/
├── layout.js           # Скрипты для навигации
├── site.js             # Общие скрипты
└── constructor.js      # Скрипты конструктора
```

### Представления (Views)

```
Views/
├── Shared/
│   ├── _Layout.cshtml          # Основной layout
│   ├── _LoginPartial.cshtml    # Частичное представление входа
│   └── Error.cshtml            # Страница ошибки
├── Home/
│   └── Index.cshtml            # Главная страница
├── Account/
│   ├── Login.cshtml            # Вход
│   ├── Register.cshtml         # Регистрация
│   └── Profile.cshtml          # Профиль
├── Survey/
│   ├── Index.cshtml            # Список опросов
│   ├── Constructor.cshtml      # Конструктор
│   ├── Preview.cshtml          # Предпросмотр
│   └── Results.cshtml          # Результаты
├── Public/
│   ├── Pass.cshtml             # Прохождение опроса
│   └── ThankYou.cshtml         # Благодарность
└── Admin/
    ├── Index.cshtml            # Админ-панель
    ├── UserManagement.cshtml   # Управление пользователями
    └── Surveys.cshtml          # Управление опросами
```

---

## Компоненты форм

### Конструктор вопросов

#### Поля для вопроса

- **Текст вопроса**: `textarea` с автоизменением размера
- **Тип вопроса**: `select` с 12 вариантами
- **Обязательность**: `checkbox`
- **Порядок**: Числовое поле

#### Поля для вариантов ответов

- **Текст варианта**: `input type="text"`
- **Порядок**: Числовое поле
- **Опция "Другое"**: `checkbox`

### Настройки темы

#### Цвета

- Выбор цвета через color picker
- Превью в реальном времени

#### Шрифты

- Выбор шрифта из списка
- Установка размера (числовое поле)

#### Изображения

- Загрузка файла
- Или указание URL
- Превью изображения

---

## Состояния интерфейса

### Состояния загрузки

1. **Skeleton screens**
   - Показываются во время загрузки данных
   - Серые прямоугольники на месте контента

2. **Spinner**
   - Крутящийся индикатор загрузки
   - Используется для AJAX-запросов

### Состояния ошибок

1. **Ошибки валидации**
   - Подсветка поля красным
   - Текст ошибки под полем

2. **Ошибки сервера**
   - Уведомление об ошибке
   - Возможность повторной попытки

### Пустые состояния

- Сообщение о пустом списке
- Иконка
- Призыв к действию (например, "Создать первый опрос")

---

## Доступность (Accessibility)

### ARIA атрибуты

- `aria-label` для иконок
- `aria-expanded` для dropdown меню
- `aria-hidden` для декоративных элементов

### Навигация с клавиатуры

- Tab для навигации
- Enter для активации
- Escape для закрытия модальных окон
- Стрелки для навигации в списках

### Контрастность

- Минимальный контраст 4.5:1 для текста
- Минимальный контраст 3:1 для крупного текста

---

## Версия документации

- **Версия**: 1.0
- **Дата**: 2025
- **Автор**: NovoyaHope Development Team
- **Последнее обновление**: Соответствует коду на момент создания документации

---

## Примечания

### Особенности реализации

1. **CSS переменные**: Используются для легкой настройки темы
2. **Mobile First**: Дизайн начинается с мобильной версии
3. **Прогрессивное улучшение**: Базовая функциональность работает везде, улучшения добавляются для поддерживающих браузеров
4. **Производительность**: Минимизация использования JavaScript, оптимизация CSS

### Рекомендации по использованию

1. **Цвета**: Используйте цветовую палитру из дизайн-системы
2. **Отступы**: Соблюдайте систему отступов для единообразия
3. **Типографика**: Используйте определенные размеры шрифтов
4. **Компоненты**: Переиспользуйте существующие компоненты

---

## Будущие улучшения

- Темная тема (Dark Mode)
- Кастомизация цветовой палитры через админ-панель
- Больше анимаций и переходов
- Улучшение доступности
- Поддержка RTL языков

