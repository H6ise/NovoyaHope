@model NovoyaHope.Models.ViewModels.SurveyViewModels.HomeIndexViewModel

@{
    ViewData["Title"] = "Формы";
    Layout = "_Layout";
}

<div class="container cards-container" style="padding-top: 20px;">
    <div class="main-content-header">
        <div style="display:flex; align-items:center; gap:12px;">
            <button class="btn-icon" style="background:#e6f5ea; border-radius:6px; padding:8px; border:none;">
                <i class="fas fa-th" style="color:#137333"></i>
            </button>
            <h2 style="margin:0; font-weight:500;">Формы</h2>
        </div>

        <div style="display:flex; gap:10px; align-items:center;">
            <div class="search-box" style="background: #f1f3f4; padding: 8px 12px; border-radius: 24px; width: 360px;">
                <input type="text" placeholder="Поиск" style="border: none; background: transparent; outline: none; width:100%;">
            </div>
            <a asp-controller="Survey" asp-action="Edit" class="btn-primary">Создать</a>
        </div>
    </div>

    <section style="margin-top: 20px;">
        <h4 style="color:#202124; font-weight:500; margin-bottom:12px;">Создать форму</h4>
        <div style="display:flex; gap:16px; margin-bottom:30px;">
            <a asp-action="Edit" class="card-create">
                <div style="width:120px; height:120px; display:flex; align-items:center; justify-content:center; border-radius:8px; border:1px dashed #cfead8; background:white;">
                    <span style="font-size:2.6rem; color:#137333;">＋</span>
                </div>
            </a>
        </div>

        <h4 style="color:#202124; font-weight:500; margin-bottom:12px;">Недавние формы</h4>

        <div class="cards-grid">
            @if (Model?.TemplatePreviews != null && Model.TemplatePreviews.Any())
            {
                foreach (var t in Model.TemplatePreviews)
                {
                    <div class="survey-card">
                        <div class="survey-preview" style="background:@t.PreviewBackgroundColor;">
                            <div style="width:100%; text-align:center; color:rgba(0,0,0,0.06)">
                                <svg width="120" height="80" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#e8f8ee"/></svg>
                            </div>
                        </div>
                        <div class="survey-info">
                            <div>
                                <div class="survey-title-card">@t.Title</div>
                                <div class="survey-meta"><span>Шаблон</span><span></span></div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div style="color:#5f6368;">Нет шаблонов для отображения.</div>
            }
        </div>
    </section>
</div>
